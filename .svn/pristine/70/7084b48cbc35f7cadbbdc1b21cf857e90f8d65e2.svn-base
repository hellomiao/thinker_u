<?php
/**
 * Created by PhpStorm.
 * User: yangchunrun
 * Date: 17/7/19
 * Time: 下午1:57
 */

namespace app\home\api;


use app\api\components\BaseApi;


use app\home\models\Order;


class SetPswd extends BaseApi
{
    protected function rules()
    {
        return [
            'password' => [ 'min' => 6, 'max' => 16, 'required' => true, 'name' => '密码', "message" => "请输入正确的密码"],
        ];
    }

    public function run()
    {
        $params = $this->params;

        $user = $this->user;
        $user->scenario = 'update';
        $user->password = $user->hashPassword($params['password']);
        $user->save();

        return $this->formatData();

    }

}
